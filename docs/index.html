<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¹ Cocktail Mixologist</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-icon">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" width="120" height="120">
                    <!-- Cocktail glass -->
                    <path d="M30 20 L50 60 L50 80 M40 80 L60 80" stroke="#00D9C0" stroke-width="2" fill="none"/>
                    <path d="M25 20 L50 60 L75 20 Z" fill="url(#cocktail-gradient)" stroke="#00D9C0" stroke-width="2"/>
                    <circle cx="50" cy="85" r="5" fill="#00D9C0"/>

                    <!-- Hexagonal nodes -->
                    <polygon points="15,15 20,12 25,15 25,20 20,23 15,20" fill="none" stroke="#FF6B35" stroke-width="1.5"/>
                    <polygon points="75,15 80,12 85,15 85,20 80,23 75,20" fill="none" stroke="#FFB800" stroke-width="1.5"/>
                    <polygon points="35,70 40,67 45,70 45,75 40,78 35,75" fill="none" stroke="#0066CC" stroke-width="1.5"/>
                    <polygon points="55,70 60,67 65,70 65,75 60,78 55,75" fill="none" stroke="#FF6B35" stroke-width="1.5"/>

                    <!-- Connection lines -->
                    <line x1="25" y1="20" x2="35" y2="25" stroke="#00D9C0" stroke-width="1" opacity="0.3"/>
                    <line x1="75" y1="20" x2="65" y2="25" stroke="#00D9C0" stroke-width="1" opacity="0.3"/>
                    <line x1="45" y1="70" x2="50" y2="60" stroke="#00D9C0" stroke-width="1" opacity="0.3"/>
                    <line x1="55" y1="70" x2="50" y2="60" stroke="#00D9C0" stroke-width="1" opacity="0.3"/>

                    <!-- Liquid splash effect -->
                    <circle cx="45" cy="35" r="3" fill="#00D9C0" opacity="0.6">
                        <animate attributeName="opacity" values="0.3;0.8;0.3" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="55" cy="40" r="2" fill="#FF6B35" opacity="0.6">
                        <animate attributeName="opacity" values="0.4;0.9;0.4" dur="2.5s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="45" r="2.5" fill="#FFB800" opacity="0.6">
                        <animate attributeName="opacity" values="0.5;1;0.5" dur="3s" repeatCount="indefinite"/>
                    </circle>

                    <defs>
                        <linearGradient id="cocktail-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#00D9C0;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#0066CC;stop-opacity:0.6" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <h1>Cocktail Mixologist</h1>
            <p class="tagline">Discover â€¢ Create â€¢ Mix</p>
        </header>

        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="codex">Cocktail Codex</button>
            <button class="tab-btn" data-tab="search">Search Cocktails</button>
            <button class="tab-btn" data-tab="create">Create Your Own</button>
        </nav>

        <!-- Cocktail Codex Tab -->
        <div class="tab-content active" id="codex-tab">
            <div class="codex-section">
                <h2>The Six Foundational Cocktails</h2>
                <p class="codex-intro">Explore cocktail families based on the Cocktail Codex. Click any root cocktail to discover its template, ingredients, and variations organized by flavor similarity.</p>

                <!-- Filter Controls (hidden until focused view) -->
                <div id="codex-filters" class="codex-filters" style="display: none;">
                    <h3>Filter Variations</h3>
                    <div class="filter-chips">
                        <button class="filter-chip" data-filter="spirit-forward">ğŸ¥ƒ Spirit-Forward</button>
                        <button class="filter-chip" data-filter="sour">ğŸ‹ Sour</button>
                        <button class="filter-chip" data-filter="sweet">ğŸ¬ Sweet</button>
                        <button class="filter-chip" data-filter="citrus">ğŸŠ Citrus</button>
                        <button class="filter-chip" data-filter="shaken">ğŸ§Š Shaken</button>
                        <button class="filter-chip" data-filter="stirred">ğŸ¥„ Stirred</button>
                        <button class="filter-chip" data-filter="refreshing">ğŸ’§ Refreshing</button>
                        <button class="filter-chip" data-filter="creamy">ğŸ¥› Creamy</button>
                        <button class="filter-chip" data-filter="bitter">ğŸŒ¿ Bitter</button>
                        <button class="filter-chip reset-filters">âœ• Clear All</button>
                    </div>
                </div>

                <div id="codex-graph-container" class="codex-graph-container"></div>
            </div>
        </div>

        <!-- Search Tab -->
        <div class="tab-content" id="search-tab">
            <div class="search-section">
                <div class="search-options">
                    <button class="search-type-btn active" data-type="name">By Name</button>
                    <button class="search-type-btn" data-type="ingredient">By Ingredient</button>
                    <button class="search-type-btn" data-type="liquor">By Base Liquor</button>
                    <button class="search-type-btn" data-type="random">Random</button>
                </div>

                <div class="search-input-container">
                    <input type="text" id="search-input" placeholder="Search for a cocktail...">
                    <button id="search-btn">Search</button>
                </div>

                <!-- Base Liquor Selection (hidden by default) -->
                <div id="liquor-selection" class="liquor-grid" style="display: none;">
                    <button class="liquor-btn" data-liquor="Vodka">ğŸ¥¶ Vodka</button>
                    <button class="liquor-btn" data-liquor="Rum">ğŸï¸ Rum</button>
                    <button class="liquor-btn" data-liquor="Gin">ğŸŒ¿ Gin</button>
                    <button class="liquor-btn" data-liquor="Tequila">ğŸŒµ Tequila</button>
                    <button class="liquor-btn" data-liquor="Whiskey">ğŸ¥ƒ Whiskey</button>
                    <button class="liquor-btn" data-liquor="Bourbon">ğŸŒ¾ Bourbon</button>
                    <button class="liquor-btn" data-liquor="Scotch">ğŸ´ Scotch</button>
                    <button class="liquor-btn" data-liquor="Brandy">ğŸ‡ Brandy</button>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section">
                <!-- Cocktail cards will be inserted here -->
            </div>

            <!-- Cocktail Detail Modal -->
            <div id="cocktail-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <div id="cocktail-detail">
                        <!-- Detailed cocktail info will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Ingredient Detail Modal -->
            <div id="ingredient-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <div id="ingredient-detail">
                        <!-- Ingredient info will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Your Own Tab -->
        <div class="tab-content" id="create-tab">
            <div class="create-section">
                <h2>Create Your Own Cocktail</h2>
                <div class="create-form">
                    <div class="form-group">
                        <label for="cocktail-name">Cocktail Name</label>
                        <input type="text" id="cocktail-name" placeholder="Enter your cocktail name...">
                    </div>

                    <div class="form-group">
                        <label for="cocktail-glass">Glass Type</label>
                        <select id="cocktail-glass">
                            <option value="Cocktail glass">Cocktail glass</option>
                            <option value="Highball glass">Highball glass</option>
                            <option value="Old-fashioned glass">Old-fashioned glass</option>
                            <option value="Collins glass">Collins glass</option>
                            <option value="Margarita glass">Margarita glass</option>
                            <option value="Hurricane glass">Hurricane glass</option>
                            <option value="Shot glass">Shot glass</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Ingredients</label>
                        <div id="ingredients-list">
                            <div class="ingredient-input-row">
                                <input type="text" placeholder="Ingredient" class="ingredient-name">
                                <input type="text" placeholder="Measurement" class="ingredient-measure">
                                <button class="remove-ingredient-btn" style="display: none;">Ã—</button>
                            </div>
                        </div>
                        <button id="add-ingredient-btn">+ Add Ingredient</button>
                    </div>

                    <div class="form-group">
                        <label for="cocktail-instructions">Instructions</label>
                        <textarea id="cocktail-instructions" rows="4" placeholder="Describe how to make your cocktail..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="cocktail-image">Image URL (optional)</label>
                        <input type="text" id="cocktail-image" placeholder="https://example.com/image.jpg">
                    </div>

                    <button id="save-cocktail-btn" class="primary-btn">Save My Cocktail</button>
                </div>

                <!-- Saved Cocktails -->
                <div id="saved-cocktails-section">
                    <h3>Your Saved Cocktails</h3>
                    <div id="saved-cocktails-grid">
                        <!-- Saved cocktails will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Node Action Buttons (for mobile interaction) -->
    <div id="node-action-buttons" class="node-action-buttons">
        <button id="show-alternatives-btn" class="node-action-btn">
            <span class="btn-icon">ğŸ”„</span>
            <span class="btn-text">Show Alternatives</span>
        </button>
        <button id="show-flavors-btn" class="node-action-btn">
            <span class="btn-icon">âœ¨</span>
            <span class="btn-text">Show Flavors</span>
        </button>
        <button id="close-action-btn" class="node-action-btn close-btn">
            <span class="btn-icon">âœ•</span>
            <span class="btn-text">Close</span>
        </button>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="flavor-engine.js"></script>
    <script src="cocktail-codex.js"></script>
    <script src="codex-graph.js"></script>
    <script src="cocktail-graph.js"></script>
    <script src="codex-app.js"></script>
    <script src="app.js"></script>
</body>
</html>
